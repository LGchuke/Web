@font-face {
  font-family: 'Trek Symbols';
  // src: url('https://christopher-simmons.github.io/fonts/Tr.TTF') format('truetype');
}

@font-face {
  font-family: 'airborne';
  // src: url('https://christopher-simmons.github.io/fonts/airborne.ttf') format('truetype');
}

$center: translate(-50%,-50%);
$mainColor:#d7d6d4;
$mainAccent:#ababa9;
$accentBlack:rgb(50,50,50);

/*Font mixin from https://eduardoboucas.com/blog/2015/06/18/viewport-sized-typography-with-minimum-and-maximum-sizes.html
*/

@mixin responsive-font($responsive,
$min,
$max: false,
$fallback: false) {
  $responsive-unitless: $responsive / ($responsive - $responsive + 1);
  $dimension: if(unit($responsive)=='vh', 'height', 'width');
  $min-breakpoint: $min / $responsive-unitless * 100;
  @media (max-#{$dimension}: #{$min-breakpoint}) {
    font-size: $min;
  }
  @if $max {
    $max-breakpoint: $max / $responsive-unitless * 100;
    @media (min-#{$dimension}: #{$max-breakpoint}) {
      font-size: $max;
    }
  }
  @if $fallback {
    font-size: $fallback;
  }
  font-size: $responsive;
}

body {
  overflow: hidden;
}

#backing {
  width: 5000px;
  height: 5000px;
  position: absolute;
  background-image: url(https://i.imgsafe.org/259fc46649.gif);
  background-size: 35% 10%;
  background-position: 100% 100%;
  transform: rotate(40deg);
  Left: -2000px;
  top: -2000px;
}

#wrapper {
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  #overlay {
    position: Absolute;
    background-color: rgba(0, 0, 0, .75);
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    &:before,
    &:after {
      font-family: 'Trek Symbols';
      position: absolute;
      color: black;
      font-size: 9vw;
      text-shadow: .1vw .1vw .1vw cornflowerblue, -.1vw -.1vw .1vw green, -.1vw .1vw .1vw green, .1vw .2vw .1vw cornflowerblue;
    }
    &:before {
      right: 15%;
      top: 5%;
      content: 'L';
    }
    &:after {
      top: 3%;
      right: 5%;
      content: 'I';
    }
  }
  #box {
    position: absolute;
    width: 50vw;
    height: 50vw;
    top: 60%;
    left: 60%;
    transform: $center;
    z-index: 9999;
    animation: float 1s ease-in-out infinite;
    transform: translate3d(-25vw, -25vw, 0vw);
    .enterpriseLower {
      transform: perspective(800px) rotateX(50deg) translate3d(-.35vw, 0vw, -1vw);
      position: absolute;
      width: 61%;
      max-width: 460px;
      max-height: 450px;
      height: 60%;
      background: radial-gradient(circle farthest-corner at 24vw -10vw, #323232 81%, $mainColor 90%);
      border-radius: 50%;
      z-index: 1000;
      border: .2vw solid $mainAccent;
      .tail {
        width: 55%;
        height: 15%;
        background: linear-gradient(to bottom, #5a5a5a, $mainAccent 50%, $mainColor);
        position: absolute;
        top: 5%;
        left: -20%;
        border-radius: 30%;
        transform: rotate(40deg);
        .side {
          width: 100%;
          height: 100%;
          position: absolute;
          left: 5%;
          top: 9%;
          background: -webkit-linear-gradient(top, transparent 0%, transparent, 80%, grey 80%);
          background: linear-gradient(to bottom, transparent 0%, transparent, 80%, grey 80%);
          border-radius: 0 0 30% 30%;
        }
        &:before {
          content: '';
          width: 99%;
          height: 15%;
          background: repeating-linear-gradient(to right, $mainAccent 0%, grey 5%, $mainAccent 5%, grey 10%);
          position: absolute;
          top: 45%;
          left: 51%;
          transform: $center;
          border-radius: 5px;
        }
      }
      .arm1 {
        background: linear-gradient(to left, #5a5a5a, $mainAccent 70%, $mainColor);
        width: 20%;
        height: 5%;
        position: absolute;
        z-index: -1;
        transform: rotate(-67deg) translate3d(3vw, -4.5vw, 0vw);
        box-shadow: inset 0 0 0 1px darkslategrey;
      }
      .armRod1,
      .armRod2 {
        width: 70%;
        height: 15%;
        position: absolute;
        background: radial-gradient(ellipse farthest-corner at 9vw -3vw, rgba(50, 50, 50, 1) 30%, rgba(255, 255, 255, 1));
        transform: rotate(40deg) translate3d(-100%, -10%, 0vw);
        border-radius: 50px 0 0 50px;
        .side {
          width: 100%;
          height: 100%;
          position: absolute;
          left: 5%;
          top: 18%;
          background: -webkit-linear-gradient(top, transparent 0%, transparent, 80%, grey 80%);
          background: linear-gradient(to bottom, transparent 0%, transparent, 80%, grey 80%);
          border-radius: 0 0 30% 30%;
        }
        &:after {
          content: '';
          position: absolute;
          height: 80%;
          width: 14%;
          top: 0%;
          right: -11%;
          background: radial-gradient(ellipse farthest-corner at -1vw -9vw, #87ceeb 30%, #2e8b57);
          border-radius: 50%;
          border-left: .3vw solid darkgrey;
          border-bottom: .6vw solid darkgrey;
          border-top: 0.4vw solid darkgrey;
          box-shadow: 0 0 25px black, inset 10px 0 19px -9px black;
        }
        &:before {
          content: '';
          width: 99%;
          height: 15%;
          background: repeating-linear-gradient(to right, darkgrey 0%, grey 5%, darkgrey 5%, grey 10%);
          position: absolute;
          top: 40%;
          left: 50.25%;
          transform: $center;
          border-radius: 5px;
        }
      }
      .arm2 {
        width: 20%;
        height: 5%;
        position: absolute;
        background: linear-gradient(to right, #5a5a5a, $mainAccent 35%, #d7d6d4);
        transform: rotate(-45deg) skew(51deg) translate3d(-2vw, -3.5vw, 0vw);
        z-index: -1;
        box-shadow: inset 0 0 0 1px darkslategrey;
      }
      .armRod2 {
        background: radial-gradient(ellipse farthest-corner at 10vw 8vw, #323232 30%, #ffffff);
        transform: rotate(40deg) translate3d(-93%, 280%, 0vw) scale(0.9, 0.9);
        &:after {
          background: radial-gradient(ellipse farthest-corner at 4vw 2vw, #87ceeb 30%, #2e8b57);
          box-shadow: 0 0 25px black, inset 6px 6px 19px -9px black;
        }
      }
    }
    .photonTorpedo {
      width: 25%;
      height: 3%;
      position: relative;
      background: radial-gradient(ellipse at right, rgba(blue, .8) 0%, rgba(blue, .7) 25%, transparent 80%);
      transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(22vw, 5vw, -1vw);
      z-index: -10;
      border-radius: 4vw;
      box-shadow: 4px 0px 6px -4px skyblue;
      animation: photonTorpedo 5s ease infinite;
      &:before {
        content: '';
        width: 110%;
        height: 150%;
        top: -25%;
        right: 0;
        position: absolute;
        background: radial-gradient(ellipse at right, rgba(green, .35) 0%, transparent 80%);
        border-radius: 4vw;
      }
    }
    .torpedoGlow {
      width: 58%;
      max-width: 440px;
      max-height: 440px;
      height: 58%;
      transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(8vw, 0vw, 0vw);
      background: radial-gradient(ellipse at right, rgba(green, .35) 0%, transparent 80%);
      border-radius: 0 50% 50% 0;
      position: absolute;
      animation: photonTorpedoGlow 5s ease infinite;
      -webkit-filter: blur(5px);
    }
    .enterprise {
      position: absolute;
      width: 60%;
      max-width: 450px;
      max-height: 450px;
      height: 60%;
      background: radial-gradient($mainColor, $mainColor 15%, $mainAccent 15%, $mainAccent 16%, $mainColor 17%, $mainColor 22%, $mainAccent 22%, $mainAccent 23%, $mainColor 23%, $mainColor 27%, $mainAccent 27%, $mainAccent 28%, $mainColor 28%, $mainColor 33%, $mainAccent 33%, $mainAccent 34%, $mainColor 34%, $mainColor 39%, $mainAccent 39%, $mainAccent 40%, $mainColor 40%, $mainColor 45%, $mainAccent 45%, $mainAccent 46%, $mainColor 46%, $mainColor 51%, $mainAccent 51%, $mainAccent 52%, $mainColor 52%, $mainColor 57%, $mainAccent 57%, $mainAccent 58%, $mainColor 58%, $mainColor 63%, $mainAccent 63%, $mainAccent 64%, $mainColor 64%);
      transform: perspective(800px) rotateX(50deg);
      border-radius: 50%;
      border: .2vw solid $mainAccent;
      z-index: 9999;
      &:before {
        content: '';
        width: 100%;
        height: 100%;
        border-radius: 50%;
        position: absolute;
        top: 0;
        left: 0;
        background: radial-gradient(ellipse farthest-corner at 40vw 5vw, rgba( $accentBlack, .6) 30%, rgba( white, .4));
        z-index: 2;
      }
      .eLine {
        width: 1%;
        height: 39%;
        background: $mainAccent;
        z-index: -1;
        position: absolute;
        //Loop and position elines
        $x: 0;
        @for $i from 1 through 14 {
          &:nth-child(#{$i}) {
            $yRotate: $i * 25.55;
            $x: $x + 1;
            //End variables
            right: 49.5%;
            top: 30.5%;
            position: absolute;
            transform: rotate(($yRotate+ deg)) translate3d(0vw, 79%, 0vw);
          }
        }
      }
      .shipLogo {
        font-family: 'airborne';
        position: Absolute;
        width: 50%;
        @include responsive-font(2.25vw,
        2.25vw,
        34px,
        34px);
        text-transform: uppercase;
        transform: rotate(-45deg) translate3d(-35%, 1100%, 0vw);
        z-index: 5;
        &:before {
          content: 'U.S.S. Enterprise';
          position: absolute;
          width: 100%;
          height: 100%;
          top: -100%;
          left: 0;
          text-align: center;
          font-size: 1vw;
          @include responsive-font(1vw,
          1vw,
          20px,
          20px);
        }
        span {
          display: inline-block;
          height: 100%;
          width: 12.5%;
          text-align: center;
        }
        span:nth-child(1) {
          transform: rotate(38deg) translate3d(25%, -22%, 0vw);
        }
        span:nth-child(2) {
          transform: rotate(33deg) translate3d(32%, 25%, 0vw);
        }
        span:nth-child(3) {
          transform: rotate(25deg) translate3d(35%, 64%, 0vw);
        }
        span:nth-child(4) {
          transform: rotate(15deg) translate3d(44%, 78%, 0vw);
        }
        span:nth-child(5) {
          transform: rotate(0deg) translate3d(24%, 98%, 0vw);
        }
        span:nth-child(6) {
          transform: rotate(-11deg) translate3d(-2%, 90%, 0vw);
        }
        span:nth-child(7) {
          transform: rotate(-16deg) translate3d(5%, 63%, 0vw);
        }
        span:nth-child(8) {
          transform: rotate(-29deg) translate3d(0%, 34%, 0vw);
        }
      }
      .centerDot {
        width: 15%;
        height: 15%;
        background: darkgrey;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: $center;
        border-radius: 50%;
        z-index: 2;
        &:after {
          content: '';
          width: 40%;
          height: 40%;
          position: absolute;
          background: radial-gradient(circle farthest-corner at 1vw -1vw, rgba(aliceblue, .95), darkgrey 75%, rgba(aliceblue, .55) 95%);
          border-radius: 50%;
          box-shadow: 0 1px 1px 0px black;
          top: 50%;
          left: 50%;
          transform: $center;
        }
      }
    }
  }
}


/* Standard syntax */

@keyframes float {
  0% {
    transform: translate3d(-25vw, -25vw, 0vw) scale(.7, .7);
  }
  50% {
    transform: translate3d(-25vw, -26vw, 0vw) scale(.7, .7);
  }
  100% {
    transform: translate3d(-25vw, -25vw, 0vw) scale(.7, .7);
  }
}

@keyframes photonTorpedoGlow {
  0% {
    transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(0vw, 0vw, 0vw);
    background: radial-gradient(ellipse at right, rgba(blue, .35) 0%, transparent 80%);
  }
  70% {
    transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(0vw, 0vw, 0vw);
    background: radial-gradient(ellipse at right, rgba(blue, .35) 0%, transparent 80%);
  }
  80% {
    transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(10%, 0vw, 0vw);
    background: radial-gradient(ellipse at right, rgba(blue, .35) 0%, transparent 80%);
  }
  95% {
    transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(0vw, 0vw, 0vw);
    background: radial-gradient(ellipse at right, rgba(blue, .35) 0%, transparent 40%);
  }
  100% {
    transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(0vw, 0vw, 0vw);
    background: radial-gradient(ellipse at right, rgba(blue, .35) 0%, transparent 40%);
  }
}

@keyframes photonTorpedo {
  0% {
    transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(100%, 5vw, -1vw);
  }
  85% {
    transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(100%, 5vw, -1vw);
  }
  100% {
    transform: perspective(800px) rotateX(50deg) rotate(50deg) translate3d(120vw, 5vw, -1vw);
  }
}